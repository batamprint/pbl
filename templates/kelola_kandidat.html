{% extends "base.html" %}

{% block title %}Kelola Kandidat{% endblock %}

{% block content %}
<div class="w-full max-w-6xl mx-auto">

  <!-- Header Gradient (konsisten seperti Dashboard Admin) -->
  <div class="bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl shadow-lg p-6 mb-8">
    <div class="flex flex-col md:flex-row md:justify-between md:items-center">
      <div class="text-center md:text-left mb-4 md:mb-0">
        <h1 class="text-2xl md:text-3xl font-bold text-white">
          Kelola Kandidat
        </h1>
        <p class="text-blue-100 mt-2">
          Tambah, lihat, dan hapus kandidat voting.
        </p>
      </div>

      <div class="flex justify-center md:justify-end">
        <a href="{{ url_for('add_kandidat') }}"
           class="inline-flex items-center justify-center py-3 px-6 text-sm font-medium rounded-xl text-white bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 transform hover:-translate-y-0.5 hover:shadow-lg">
          <i class="fas fa-plus mr-2"></i>
          Tambah Kandidat Baru
        </a>
      </div>
    </div>
  </div>

  <!-- Card Utama -->
  <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8 card-hover">

    {% if kandidat_list %}

      <!-- Section daftar kandidat -->
      <div class="bg-white border border-gray-200 rounded-2xl shadow-sm p-6 transition-all duration-300 hover:shadow-md hover:border-blue-200">
        <div class="flex items-center justify-between mb-6">
          <h3 class="text-xl font-bold text-gray-800">
            <i class="fas fa-list mr-2 text-blue-600"></i> Daftar Kandidat
          </h3>
          <span class="text-sm font-medium text-gray-500">
            <i class="fas fa-shield-alt mr-1"></i> Admin Only
          </span>
        </div>

        <div class="overflow-x-auto">
          <!-- HAPUS overflow-hidden biar aman kalau nanti ada dropdown/popup -->
          <table class="w-full border border-gray-200 rounded-xl overflow-visible">
            <thead class="bg-gradient-to-r from-blue-50 to-blue-100">
              <tr>
                <th class="py-3 px-4 text-left text-blue-700 font-semibold border-b border-blue-200">Nama Kandidat</th>
                <th class="py-3 px-4 text-right text-blue-700 font-semibold border-b border-blue-200">Aksi</th>
              </tr>
            </thead>

            <tbody class="divide-y divide-gray-100 bg-white">
              {% for kandidat in kandidat_list %}
              <tr class="hover:bg-blue-50/40 transition duration-150">
                <td class="py-4 px-4">
                  <div class="flex items-center">
                    <div class="bg-gradient-to-r from-blue-100 to-blue-200 p-2 rounded-lg mr-3 shadow-sm">
                      <i class="fas fa-user text-blue-600"></i>
                    </div>
                    <span class="font-semibold text-gray-800">{{ kandidat['nama'] }}</span>
                  </div>
                </td>

                <td class="py-4 px-4 text-right">
                  <a href="{{ url_for('hapus_kandidat', id=kandidat['id']) }}"
                     class="inline-flex items-center bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white py-2 px-4 rounded-xl text-sm font-medium transition-all duration-300 transform hover:-translate-y-0.5 hover:shadow-lg"
                     onclick="return confirm('Yakin hapus kandidat ini?')">
                    <i class="fas fa-trash mr-2"></i> Hapus
                  </a>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>

    {% else %}

      <!-- Empty State (konsisten dengan style) -->
      <div class="text-center py-12">
        <div class="bg-gradient-to-r from-gray-100 to-gray-200 rounded-full p-6 inline-flex items-center justify-center mb-4 shadow-sm">
          <i class="fas fa-users text-gray-400 text-4xl"></i>
        </div>
        <p class="text-gray-600 text-lg font-semibold">Belum ada kandidat.</p>
        <p class="text-gray-400 mt-2">Klik tombol <span class="font-medium">"Tambah Kandidat Baru"</span> untuk menambahkan kandidat pertama.</p>

        <div class="mt-6">
          <a href="{{ url_for('add_kandidat') }}"
             class="inline-flex items-center justify-center py-3 px-6 text-sm font-medium rounded-xl text-white bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 transform hover:-translate-y-0.5 hover:shadow-lg">
            <i class="fas fa-plus mr-2"></i>
            Tambah Kandidat Baru
          </a>
        </div>
      </div>

    {% endif %}

    <!-- Back -->
    <div class="mt-8">
      <a href="{{ url_for('admin_dashboard') }}"
         class="text-blue-500 hover:text-blue-700 font-medium inline-flex items-center transition-colors duration-300">
        <i class="fas fa-arrow-left mr-2"></i>
        Kembali ke Dashboard
      </a>
    </div>
  </div>
</div>
{% endblock %}
